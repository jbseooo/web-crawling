import json
import pandas as pd
import selenium
import requests
from bs4 import BeautifulSoup as bs
import numpy as np
import time
import random
import warnings
import os
warnings.filterwarnings('ignore')

## 시계열 가격 크롤링 함수

def price_flow(x):
    cookies = {
        'soldapp': 'web|-|4.4.5|-',
        '_ga': 'GA1.1.844149788.1672450907',
        'isLogin': 'true',
        'web-jwt': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk',
        '_ga_VTFSXMTFXW': 'GS1.1.1672450906.1.1.1672452183.29.0.0',
    }

    headers = {
        'APPKEY': 'JAkSzosy4X7K2FvPBwut5GN0At8DFuIwdhfs1dvr',
        'Accept': 'application/json, text/plain, */*',
        'Accept-Language': 'ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7',
        'Cache-Control': 'no-cache',
        'Connection': 'keep-alive',
        # 'Cookie': 'soldapp=web|-|4.4.5|-; _ga=GA1.1.844149788.1672450907; isLogin=true; web-jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk; _ga_VTFSXMTFXW=GS1.1.1672450906.1.1.1672452183.29.0.0',
        'Expires': '0',
        'Pragma': 'no-cache, no-store, must-revalidate',
        'Referer': 'https://www.soldout.co.kr/trade/detail/%s'%x,
        'Sec-Fetch-Dest': 'empty',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Site': 'same-origin',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36',
        'authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk',
        'sec-ch-ua': '"Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"',
        'sec-ch-ua-mobile': '?0',
        'sec-ch-ua-platform': '"Windows"',
        'soldapp': 'web|-|4.4.5|-',
    }

    params = {
        'item_id': '%s'%x,
        'type': 'all',
    }

    response = requests.get(
        'https://www.soldout.co.kr/api/v3/product/item/get-item-order-graph',
        params=params,
        cookies=cookies,
        headers=headers,
    )

    jsonObj = response.json()
    return jsonObj


## 상품정보 함수

def product_info(x):
    cookies = {
        'soldapp': 'web|-|4.4.5|-',
        '_ga': 'GA1.1.844149788.1672450907',
        'isLogin': 'true',
        'web-jwt': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk',
        '_ga_VTFSXMTFXW': 'GS1.1.1672450906.1.1.1672451177.60.0.0',
    }

    headers = {
        'APPKEY': 'JAkSzosy4X7K2FvPBwut5GN0At8DFuIwdhfs1dvr',
        'Accept': 'application/json, text/plain, */*',
        'Accept-Language': 'ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7',
        'Cache-Control': 'no-cache',
        'Connection': 'keep-alive',
        # 'Cookie': 'soldapp=web|-|4.4.5|-; _ga=GA1.1.844149788.1672450907; isLogin=true; web-jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk; _ga_VTFSXMTFXW=GS1.1.1672450906.1.1.1672451177.60.0.0',
        'Expires': '0',
        'Pragma': 'no-cache, no-store, must-revalidate',
        'Referer': 'https://www.soldout.co.kr/trade/detail/%s'%x,
        'Sec-Fetch-Dest': 'empty',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Site': 'same-origin',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36',
        'authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc29sZG91dC5jby5rciIsInN1YiI6IlNOU18yMDIxMDUwMjEyMjcxNjIxIiwianRpIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SmhkV1FpT2lJeUlpd2lhblJwSWpvaU16VmpNVGs0TW1ZMVpXUmpZekZsTlRNNE5tVTBPV0kzT0dGaU9URXpOekk0WWpWalptRTVNakV3T0RJNU1UTXdOMkV4TkdFek1UY3dZMlE0TldaaFkyRTVaRGRrT1dSbU5qVTFNekUxWldRaUxDSnBZWFFpT2pFMk56STBOVEV3TURBc0ltNWlaaUk2TVRZM01qUTFNVEF3TUN3aVpYaHdJam94TmpneE1Ea3hNREF3TENKemRXSWlPaUl6T0RZNU16RWlMQ0p6WTI5d1pYTWlPbHRkZlEuWjhMVThaWUpvcXE0V2VOekcwSTdmZm1OUGNVMmpzX185WWRrVXh1dVNjeGJ1LTFJaWVaRWRfMk53bFBuX2pkQWtsTURkNEF6Ny1WTVplYURzOUt5eENZZDVxb3ZleGRiZENUdjZXS3BIemhRS3g4R3N1WjdNbGZNdVpiV2thcmQ2XzA2T1ZvTEtmS0hDd0N0ZTkzc29oN3BJNE5XdVdvNDhDd1pjWEloYU1NeDhXbmFKREpfTFl5MUMyakJwa21hZHRqa2hZLXo1Zl9lSlZVUE9KalVRWUszMEJsYUtmR3pBa3FsX0VaVzBNa0xKanpDVi1zWTVrNDZGdVYtUmZLVzJ5ZS1UX3RhMUdHLUU4ZURhd2ZFckNDZlJyWXNSUXFvaHFQYnNfV3h1RHpqRU52bmJHdXk0NFk1ZjJtdVFhbGlpVksyTUI1Y0h2Vmh6SE80SFZ1bHlUcU4tMXdqNmtCam1ELXBPT0hBRm9PRmtwLTdnLVJQSllDc0xOZVZfRWFFcnptNmhWUlBpSExabUstbnEzU2QwWGhXdHNiWVpWRHRVcTkya3oxQ1drRzQ1ZVVxYjMxNFZ3a1NJcDhmRFVWZjlJeEs0OUFQZ0JKb1NWZnBQb3VVWElZclRwbldTcVI1WXhac3JkdkR2cmpUR1RBUnVlSzlQci1NejJPWkdaQzhYSXlBcW1uTWZld0VOMkluR2hYdTQyMVBSS1pHRlU5eDlSLWc0eTdfZXYwZVBNRlFQemY2M2lzdURaTE9uU3ppcjhtTTQ0OTd1TmR1c193NVBKRGVRUXdTZldmaVNyUHdlbUxlVVBmb0JrRmZ5blhjaWo0dThRRlhQbWpxbVM3YWd5Mm1ZRWhQWmcxMjVnLUcxa0lCU1IzVTEtaV9ydVB0b1E3bUZVb1A5N2siLCJyZnQiOiJkZWY1MDIwMDdhMmQ0YzMwYzFhYjJkN2FhMDRiYjdkODc2YjY3YTAxMGNmZjYyZTk2ZmQ4ZTZiYzIyNDVmODQ4ZWMyNjljNDNjMjQ2YjEzNjczNTg4YzBmYmUyMjg0Zjc2OGE1OTY1M2RlMmViZmZmMmU0NGNmZDMzNzhiZGU1NWZmNjJkN2JlYzg1NjllMTUxYTRlNTUzZDVlMzRkOGY2YjY5ZjA1ODgwNTA1ZjM1ZGJjZDNkZmI4NzgwMzk4YmI2MmM3YjI4ZmZjMmFkODBkODJkZjk2MWIyZWFmYWE1ZWMxYTgzYWNhMjU1ZTllOWU5NmIyYTBkMjMzY2YxM2JjYzZhZjM2NTlmOWFjOTlmMzNhNTAzZjU3MDNhNmE0YjA2YTMwYmY4MWEyNjQ2NDMxY2IzZTE2YjAxNDllNDQzZDFmNThjYTI1ODUwMzhkNjBlZGUyZmI1OTUxNDJiMDQ3M2JjNWQ2NmI0N2Q3YTRjNjM4ZDc4ZTE5ZTZjOWNhOWUwYjdmN2JjMTFkMWM4NzljMTlkNzc3ODYyYjY3NTZiYzgyOTRjZGQ4NGM2NGU2MWRkOWQwODRmNTFhNWY4Yjc1NTgxZTY0NDc3NGZlMTZmOGYzZWYzYmUxMDBhOTU1NTBjMGQzNDJiYTdjNGNmYTJmZDUxYjZmMzUwNTNjMmM1YWI5MzM2MTJjNTA4MzQ5NDEyOTkwOGZmY2EwZDJhZDJjMGY0ZTJjZGM0NDFmMGM3MWExZWYxYmQzYWVlYWU1MGI3M2ViMmE0MjM0YWUwYzQ4YjQ2ZDg4ZTA4ZWVkMGEzN2MxMGYwZjBkYjgyNWJkMDYwN2QxODViZThjM2JjM2QwYzU4MGQ1NThkMTM0NmYzMDYyNjNmMjg3NmY4NzdiMjYzMGJjYjQ0ZDNiMjViNjExODFiM2NhZjRjMTYyMTk2YjlmZTIwMzg5NGRjZiIsInNjcCI6ImN1c3RvbWVyIiwiaWF0IjoxNjcyNDUxMDAwLCJleHAiOjE2ODEwOTEwMDB9.e9II9PAW9HU3ZSpiDZJfRe-NlOT1snMx7eFMac3opEk',
        'sec-ch-ua': '"Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"',
        'sec-ch-ua-mobile': '?0',
        'sec-ch-ua-platform': '"Windows"',
        'soldapp': 'web|-|4.4.5|-',
    }

    params = {
        'item_id': '%s'%x,
    }

    response = requests.get(
        'https://www.soldout.co.kr/api/v3/product/item/get-item-detail',
        params=params,
        cookies=cookies,
        headers=headers,)
    jsonObj = response.json()
    
    return jsonObj





all = np.array([])
for i in range(1,10001):
    print(i)
    try :

        temp = product_info(i)
        n = temp['data']['product_info']['name_kor']

        b = temp['data']['product_info']['brand_name_kor']

        s = temp['data']['product_info']['display_release_status']

        r = temp['data']['product_info']['release_date']

        l_kr = temp['data']['product_info']['display_price_kor']

        l_en = temp['data']['product_info']['display_price_eng']

        code = temp['data']['model_no']

        cate = temp['data']['category_name']
        img = temp['data']['product_info']['item_detail_image']
        temp2 = price_flow(i)
    except KeyError:
        pass
    
    try:
            
        t = temp2['data']['all']['trade_list']

    except KeyError:
        t = '정보없음'

    
    all = np.append(all, np.array([n,b,code,cate,s,r,l_kr,l_en,t,img]))

    time.sleep(random.uniform(2,4))



all = all.reshape(-1,10)
b = pd.DataFrame(all)
b.to_excel('product_info.xlsx')
